<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragments :: user_head"  />

<body>

<!-- ***** Preloader Start ***** -->
<div id="preloader">
    <div class="jumper">
        <div></div>
        <div></div>
        <div></div>
    </div>
</div>
<!-- ***** Preloader End ***** -->


<!-- ***** Header Area Start ***** -->
<div th:replace="fragments :: user_nav" />
<!-- ***** Main Banner Area End ***** -->


<!-- ***** Product Area Starts ***** -->
<section class="section" id="product">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class = "row">
                    <div class="left-images" >
                        <img class="img-fluid small-image" height="60px" width="60px" th:src="@{'/productImages/' + ${imageNames[0]}}" alt="" id="mainImage">
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-2" th:each="imageName : ${imageNames}" th:data-image="${imageName}" onclick="changeMainImage(this)">
                        <div class="main-image">
                            <img class="img-fluid  zoom" height="300px" width="300px" th:src="@{'/productImages/' + ${imageName}}"  alt="">
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-lg-4">
                <div class="right-content">
                    <h4 th:text="${product.brand}"></h4>
                    <h6 th:text="${product.description}"></h6>
                    <span class="price" th:text="${product.price}"></span>
                    <ul class="stars">
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                    </ul>
<!--                    <span>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod kon tempor incididunt ut labore.</span>-->
                    <div class="quote">
<!--                        <i class="fa fa-quote-left"></i><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiuski smod.</p>-->
                    </div>
                    <div class="quantity-content">

                        <div class="right-content">
                            <div class="quantity buttons_added">
                                <input type="button" value="-" class="minus"><input type="number" step="1" min="1" max="" name="quantity" value="1" title="Qty" class="input-text qty text" size="4" pattern="" inputmode=""><input type="button" value="+" class="plus">
                            </div>
                        </div>
                    </div>
                    <div class="total">
<!--                        <h4>Total: $210.00</h4>-->
                        <form th:action="@{/user/addtocart}" method="post" >
                            <input type="hidden" name="productId" th:value="${product.id}" />
                            <div class="main-border-button">
                                <button type="submit" class="main-border-button">Add to Bag</button>
                            </div>
                        </form>
                        <form th:action="@{/user/addToWishlist}" method="post">
                            <input type="hidden" name="productId" th:value="${product.id}" />
                            <div class="main-border-button">
                                <button type="submit" class="main-border-button">Add to Wishlist</button>
                            </div>
                        </form>
                    </div>



                    <div class="read-only-ratings ps-0 mb-2 jq-ry-container" readonly="readonly" style="width: 112px;">
                        <!--                            <button type="button" class="main-border-button" id="openReviewModalBtn">Add Review</button>-->

                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle" type="button" id="reviewDropdownButton" data-bs-toggle="dropdown" aria-expanded="false">
                                Add Review
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="reviewDropdownButton">
                                <!-- Hidden form within the dropdown -->
                                <form th:action="@{/user/saveReview}" class="dropdown-item p-3" method="post" id="reviewForm" th:object="${review}">
                                    <input type="hidden" name="productId" th:value="${product.id}" />
                                    <div class="mb-3">
                                        <label for="comments" class="form-label">Comments</label>
                                        <textarea  class="form-control" id="comments" name="comments" rows="3"></textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="rating" class="form-label">Rating</label>
                                        <select  class="form-select" id="rating" name="rating" required>
                                            <option value="" disabled selected>Select rating</option>
                                            <option value="1">1</option>
                                            <option value="2">2</option>
                                            <option value="3">3</option>
                                            <option value="4">4</option>
                                            <option value="5">5</option>
                                        </select>
                                    </div>
                                    <div class="mb-3">
                                        <label for="detailedReview" class="form-label">Detailed Review</label>
                                        <textarea  class="form-control" id="detailedReview" name="detailedReview" rows="5"></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Submit Review</button>
                                </form>


                            </ul>
                        </div>




                    </div>



                    <div th:each="review : ${review}">
                        <p class="fw-medium mb-1 text-truncate text-capitalize" th:text="${review.comments}"></p>
                        <small class="text-break pe-3"th:text="${review.rating}"></small>
                        <small class="text-break pe-3"th:text="${review.detailedReview}"></small>
                    </div>













                </div>
            </div>
        </div>
    </div>
</section>
<!-- ***** Product Area Ends ***** -->

<!-- ***** Footer Start ***** -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="first-item">
                    <div class="logo">
<!--                        <img src="assets/images/white-logo.png" alt="hexashop ecommerce templatemo">-->
                    </div>
                    <ul>
                        <li><a href="#">16501 Collins Ave, Sunny Isles Beach, FL 33160, United States</a></li>
                        <li><a href="#">hexashop@company.com</a></li>
                        <li><a href="#">010-020-0340</a></li>
                    </ul>
                </div>
            </div>
            <div class="col-lg-3">
                <h4>Shopping &amp; Categories</h4>
                <ul>
                    <li><a href="#">Men’s Shopping</a></li>
                    <li><a href="#">Women’s Shopping</a></li>
                    <li><a href="#">Kid's Shopping</a></li>
                </ul>
            </div>
            <div class="col-lg-3">
                <h4>Useful Links</h4>
                <ul>
                    <li><a href="#">Homepage</a></li>
                    <li><a href="#">About Us</a></li>
                    <li><a href="#">Help</a></li>
                    <li><a href="#">Contact Us</a></li>
                </ul>
            </div>
            <div class="col-lg-3">
                <h4>Help &amp; Information</h4>
                <ul>
                    <li><a href="#">Help</a></li>
                    <li><a href="#">FAQ's</a></li>
                    <li><a href="#">Shipping</a></li>
                    <li><a href="#">Tracking ID</a></li>
                </ul>
            </div>
            <div class="col-lg-12">
                <div class="under-footer">
                    <p>Copyright © 2022 HexaShop Co., Ltd. All Rights Reserved.

                        <br>Design: <a href="https://templatemo.com" target="_parent" title="free css templates">TemplateMo</a>

                        <br>Distributed By: <a href="https://themewagon.com" target="_blank" title="free & premium responsive templates">ThemeWagon</a></p>
                    <ul>
                        <li><a href="#"><i class="fa fa-facebook"></i></a></li>
                        <li><a href="#"><i class="fa fa-twitter"></i></a></li>
                        <li><a href="#"><i class="fa fa-linkedin"></i></a></li>
                        <li><a href="#"><i class="fa fa-behance"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>


<!-- jQuery -->
<script th:src="@{/js/jquery-2.1.0.min.js}"></script>

<!-- Bootstrap -->
<script th:src="@{/js/popper.js}"></script>
<script th:src="@{/js/bootstrap.min.js}"></script>

<!-- Plugins -->
<script th:src="@{/js/owl-carousel.js}"></script>
<script th:src="@{/js/accordions.js}"></script>
<script th:src="@{/js/datepicker.js}"></script>
<script th:src="@{/js/scrollreveal.min.js}"></script>
<script th:src="@{/js/waypoints.min.js}"></script>
<script th:src="@{/js/jquery.counterup.min.js}"></script>
<script th:src="@{/js/imgfix.min.js}"></script>
<script th:src="@{/js/slick.js}"></script>
<script th:src="@{/js/lightbox.js}"></script>
<script th:src="@{/js/isotope.js}"></script>
<script th:src="@{/js/quantity.js}"></script>

<!-- Global Init -->
<script th:src="@{/js/custom.js}"></script>

<script>
    document.getElementById('openReviewModalBtn').addEventListener('click', function () {
        var reviewModal = new bootstrap.Modal(document.getElementById('reviewModal'));
        reviewModal.show();
    });
</script>

<script>

    $(function() {
        var selectedClass = "";
        $("p").click(function(){
        selectedClass = $(this).attr("data-rel");
        $("#portfolio").fadeTo(50, 0.1);
            $("#portfolio div").not("."+selectedClass).fadeOut();
        setTimeout(function() {
          $("."+selectedClass).fadeIn();
          $("#portfolio").fadeTo(50, 1);
        }, 500);

        });
    });

</script>

<script>
    function changeMainImage(element) {
        var newImageSrc = $(element).find('img').attr('src');
        $('#mainImage').attr('src', newImageSrc);
    }
</script>



<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="...">

<!-- Bootstrap JS bundle with Popper.js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="..." crossorigin="anonymous"></script>

</body>

</html>
